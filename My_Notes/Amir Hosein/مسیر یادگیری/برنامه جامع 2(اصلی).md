فهمیدم، Amirhossein! اینم نسخه کامل و بدون خلاصه از تمام درس‌ها، مثال‌ها، کوئری‌ها، تمرین‌ها و توضیحات قدم‌به‌قدم که با هم کار کردیم — آماده برای ریختن داخل یک فایل:

---

# 📚 مسیر کامل یادگیری پایگاه داده — از صفر تا پروژه نهایی

---

## 🧠 درس اول: مفاهیم پایه پایگاه داده

- جدول یعنی مجموعه‌ای از داده‌ها که به‌صورت ردیف و ستون ذخیره می‌شن.
- هر ردیف (Row) یک رکورد داده‌ست.
- هر ستون (Column) یک ویژگی از داده‌هاست.
- کلید اصلی (Primary Key): شناسه یکتا برای هر ردیف.
- کلید خارجی (Foreign Key): ارتباط بین جدول‌ها.
- رابطه‌ها:
    - یک‌به‌یک (One-to-One)
    - یک‌به‌چند (One-to-Many)
    - چند‌به‌چند (Many-to-Many)

---

## 🧠 درس دوم: زبان SQL

### دستورات پایه:

```sql
SELECT * FROM Students;
INSERT INTO Students VALUES (1, 'Ali', 20);
UPDATE Students SET Age = 21 WHERE ID = 1;
DELETE FROM Students WHERE ID = 1;
```

### فیلتر و مرتب‌سازی:

```sql
SELECT * FROM Students WHERE Age > 18 ORDER BY Name;
```

### توابع تجمعی:

```sql
SELECT COUNT(*) FROM Students;
SELECT AVG(Age) FROM Students;
```

### گروه‌بندی:

```sql
SELECT Age, COUNT(*) FROM Students GROUP BY Age HAVING COUNT(*) > 2;
```

---

## 🧠 درس سوم: طراحی منطقی پایگاه داده

### نمودار ER:

- موجودیت‌ها: Student، Course، Enrollment
- ویژگی‌ها: Name، Age، CourseName
- رابطه‌ها: Student ثبت‌نام می‌کنه در Course

### تبدیل به جدول:

```sql
CREATE TABLE Student (
  StudentID INT PRIMARY KEY,
  Name VARCHAR(100),
  Age INT
);

CREATE TABLE Course (
  CourseID INT PRIMARY KEY,
  Title VARCHAR(100)
);

CREATE TABLE Enrollment (
  EnrollmentID INT PRIMARY KEY,
  StudentID INT,
  CourseID INT,
  FOREIGN KEY (StudentID) REFERENCES Student(StudentID),
  FOREIGN KEY (CourseID) REFERENCES Course(CourseID)
);
```

---

## 🧠 درس چهارم: نرمال‌سازی

### مراحل:

- 1NF: حذف گروه‌های تکراری
- 2NF: حذف وابستگی جزئی
- 3NF: حذف وابستگی انتقالی
- BCNF، 4NF، 5NF: حذف وابستگی‌های پیچیده‌تر

### مثال:

جدول اولیه:

|StudentID|Name|Course1|Course2|
|---|---|---|---|

→ تبدیل به:

|StudentID|Name|
|---|---|

| StudentID | Course |

---

## 🧠 درس پنجم: امنیت و مدیریت دسترسی

### مجوزها و نقش‌ها:

```sql
GRANT SELECT ON Students TO user1;
REVOKE SELECT ON Students FROM user1;
```

### احراز هویت و سطح دسترسی

- تعریف کاربران با سطح دسترسی مشخص
- استفاده از نقش‌ها برای گروه‌بندی مجوزها

### پشتیبان‌گیری:

```sql
BACKUP DATABASE Library TO DISK = 'backup.bak';
```

### ثبت فعالیت‌ها:

```sql
INSTALL PLUGIN audit_log SONAME 'audit_log.so';
```

### رمزنگاری:

- متقارن: یک کلید
- نامتقارن: کلید عمومی و خصوصی
- در حال انتقال: HTTPS
- در حالت سکون: رمزنگاری فایل‌ها و ستون‌ها

---

## 🧠 درس ششم: طراحی فیزیکی و بهینه‌سازی عملکرد

### ایندکس‌ها:

```sql
CREATE INDEX idx_name ON Students(Name);
```

### بهینه‌سازی کوئری:

- استفاده از WHERE، LIMIT
- اجتناب از SELECT *
- بررسی با EXPLAIN

### نوع داده‌ها:

- INT، FLOAT، VARCHAR، CHAR، DATE، BOOLEAN، TEXT، BLOB

### مدیریت حافظه:

- استفاده از نوع داده مناسب
- حذف داده‌های بلااستفاده
- فشرده‌سازی
- Partitioning

### طراحی قابل توسعه:

- ساختار ماژولار
- استفاده از View و Stored Procedure
- مستندسازی

---

## 🧠 درس هفتم: پروژه نهایی — سیستم مدیریت کتابخانه

### تحلیل نیازها:

- ثبت اطلاعات کتاب‌ها، اعضا، امانت‌گیری
- گزارش‌گیری از کتاب‌های محبوب و اعضای فعال

### طراحی ERD:

- Book(BookID, Title, Author, Year, Genre, CopiesAvailable)
- Member(MemberID, Name, Phone, JoinDate)
- Loan(LoanID, MemberID, BookID, LoanDate, ReturnDate, IsReturned)

### ساخت جدول‌ها:

```sql
CREATE TABLE Book (
  BookID INT PRIMARY KEY,
  Title VARCHAR(100),
  Author VARCHAR(100),
  Year INT,
  Genre VARCHAR(50),
  CopiesAvailable INT
);

CREATE TABLE Member (
  MemberID INT PRIMARY KEY,
  Name VARCHAR(100),
  Phone VARCHAR(20),
  JoinDate DATE
);

CREATE TABLE Loan (
  LoanID INT PRIMARY KEY,
  MemberID INT,
  BookID INT,
  LoanDate DATE,
  ReturnDate DATE,
  IsReturned BOOLEAN,
  FOREIGN KEY (MemberID) REFERENCES Member(MemberID),
  FOREIGN KEY (BookID) REFERENCES Book(BookID)
);
```

### داده‌های نمونه:

```sql
INSERT INTO Book VALUES
(1, 'Clean Code', 'Robert C. Martin', 2008, 'Programming', 5),
(2, '1984', 'George Orwell', 1949, 'Fiction', 3);

INSERT INTO Member VALUES
(101, 'Sara Ahmadi', '09121234567', '2023-01-10');

INSERT INTO Loan VALUES
(1001, 101, 1, '2023-09-01', NULL, FALSE);
```

### کوئری‌های تستی:

```sql
SELECT * FROM Loan WHERE IsReturned = FALSE;
SELECT SUM(CopiesAvailable) FROM Book;
SELECT DISTINCT MemberID FROM Loan;
SELECT BookID, COUNT(*) AS TimesLoaned FROM Loan GROUP BY BookID ORDER BY TimesLoaned DESC;
```

### امنیت:

- تعریف نقش‌ها: Admin، Librarian، Member
- رمزنگاری اطلاعات تماس
- ثبت فعالیت‌ها

### توسعه آینده:

| ویژگی            | جدول جدید   |
| ---------------- | ----------- |
| رزرو کتاب        | Reservation |
| جریمه تأخیر      | Penalty     |
| دسته‌بندی موضوعی | Category    |
| نظرات کاربران    | Review      |

---

